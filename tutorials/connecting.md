---
layout: tutorials
title: Соединение
---
## Соединение Узлов

Правильное соедиинение узлов - залог правильной работы программы. Нужно придерживаться нескольких правил:

1. Подключать выход к выходу нельзя
2. Подключать вход ко входу нельзя
3. Подключать несколько входов к одинарному входу нельзя
4. Соединение обязательно должно исходить из узла и входить в узел

<img src="{{site.baseurl}}/resources/connecting/01_connecting_rules.png"/> 

### Запуск обработки узла

Узел начинает работать (но не выполнятся) как только на него хотя бы в одном из портов подается управляющий сигнал
(ctrl, или контролирующий сигнал, или активирующий сигнал)- это можно назвать еще одним типом данных,
однако он передается вместе и с другими данным. Как только на узел подан управляющий сигнал узел может:

- Попробовать получить данные из подключенных в него узлов
    - Если данных достаточно для выполнения узел выполнится
    - Если данных не хватает, то узел может перейти в состояние ожидания
- Начать обрабатывать данные внутри себя
- Ничего не делать

Если узел был активирован и пытается получить значения из предыдущих, то он может получить данные
даже из узла, который вовсе не может быть активирован или уже выполнился. Такое возможно так как 
узлы запускаются и хранят данные не всегда при подаче сигнала, они могут работать всегда или запускаться только при 
подаче сигнала на определенный вход.

<img src="{{site.baseurl}}/resources/connecting/02_back_connecting.png"/> 

> Узел Delay забирает значение из узла Const после активации, а узел If - из XOR, который мог выполниться заранее.

### Циклы

Зацикленность требуется реализовывать через циклы-узлы, а не через петли, так как если один узел запрашивает 
данные из второго и при этом второй запрашивает данные из первого, то программа не сможет обработать. Однако при
правильной реализации мы получаем программу, которая работает намного быстрее чем циклы-узлы
Это можно избежать сделав подачу неких значений по умолчанию.

[index]: {{site.baseurl}}/index
[tutorials]: {{site.baseurl}}/tutorials#content
[drawio]: https://app.diagrams.net/?splash=0&libs=0&clibs=Uhttps://raw.githubusercontent.com/octo-gone/sync-execution/master/resources/base.drawio;Uhttps://raw.githubusercontent.com/octo-gone/sync-execution/master/resources/structure.drawio
[replit]: https://repl.it/@mr_zed/sync-execution#script.drawio